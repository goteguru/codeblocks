<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>7.3 Egyszer≈± adatvizualiz√°ci√≥ JavaScript-tel</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/theme/darcula.css">
  <link rel="stylesheet" href="codeblocks.css">
</head>

<body>
  <header>
    <h1>7.3 lecke ‚Äì Egyszer≈± adatvizualiz√°ci√≥</h1>
    <p>
      Ebben a leck√©ben azt n√©zz√ºk meg, hogyan lehet adatokb√≥l gyorsan √©s √©rthet≈ëen √°br√°t csin√°lni JavaScript seg√≠ts√©g√©vel.
      El≈ësz√∂r k√©sz√≠t√ºnk egy szuper egyszer≈± konzolos oszlopdiagramot, majd h√°rom elterjedt k√∂nyvt√°rat
      n√©z√ºnk meg: <strong>Chart.js</strong>, <strong>Google Charts</strong> √©s <strong>D3.js</strong>.
    </p>
    <p>
      A c√©l nem igaz√°n az, hogy egy k√∂nyvt√°rat "megtanuljunk" (az k√ºl√∂n tanfolyam lenne), hanem hogy
      k√©pet kapja a gondolkod√°si mint√°r√≥l, √©s hogy tudd, mikor √©rdemes k√∂nyvt√°rat haszn√°lni.
      Persze ha tetszenek a k√∂nyvt√°rak, akkor √©rdemes m√©lyebben is megismerkedni vel√ºk!
    </p>
  </header>

  <main>
    <section>
      <h2>1. Bemeleg√≠t√©s: "grafikon" a konzolon</h2>
      <p>
        El≈ësz√∂r csin√°ljunk egy minim√°l oszlopdiagramot kiz√°r√≥lag a konzolra.
        Ennek az a didaktikai l√©nyege, hogy l√°sd: az √°bra nem var√°zslat, hanem
        egy <strong>reprezent√°ci√≥</strong>. Itt az oszlop egy ism√©telt karakter.
      </p>

      <article>
        <h3>1.1. Egyszer≈± oszlopok (ASCII / Unicode)</h3>
        <textarea data-lang="js">
const data = [3, 7, 2, 5, 9, 4, 6, 1, 8, 3, 5, 2]

// egy egyszer≈± "oszlop" karakter
const block = "‚ñà"

for (let value of data) {
  console.log(block.repeat(value))
}
        </textarea>
        <p>
	  L√°m, ilyen egyszer≈±en is lehet grafikont k√©sz√≠teni :) 
          Ez egy hasznos minta, mert azonnal l√°tszik a kapcsolat:
	  a k√≥d lek√©pezi az adatot valami m√°ss√° (grafikonn√°)
	  teh√°t tulajdonk√©ppen egy transzform√°ci√≥. 
	  Nagyobb √©rt√©k ‚Üí hosszabb oszlop. 
        </p>
        <p>
	Ha √∫jra lefuttatjuk friss√ºl az √°bra is. (√≠rd √°t az adatokat
	√©s futtasd le √∫jra).
        </p>
      </article>

      <article>
        <h3>1.2. Sk√°l√°z√°s: ha az adatok t√∫l nagyok</h3>
        <p>
          A val√≥di adatok gyakran nem f√©rnek ki "karakterben" m√©rve, mert t√∫l hossz√∫ lenne az oszlop. Ilyenkor sk√°l√°zunk:
          a legnagyobb √©rt√©k kapja a maxim√°lis oszlophosszt, a t√∂bbi ar√°nyosan r√∂videbb.
        </p>

        <textarea data-lang="js">
const data = [120, 35, 90, 12, 200, 160, 55, 18, 75, 40, 10, 145]

const maxBar = 30
const maxValue = Math.max(...data)

for (let value of data) {
  const scaled = Math.round(value / maxValue * maxBar)
  const bar = "‚ñà".repeat(scaled)
  console.log(String(value).padStart(4, " "), bar)
}
        </textarea>

        <p>
          Itt m√°r megjelenik egy tipikus vizualiz√°ci√≥s gondolat: <strong>lek√©pez√©s</strong>.
          Az adat√©rt√©ket "√°tford√≠tjuk" egy megjelen√≠t√©si m√©rt√©kegys√©gre (karakterek sz√°ma).
        </p>
      </article>

      <article>
        <h3>1.3. Mi√©rt nem csin√°lunk mindent "k√©zzel"?</h3>
        <ul>
          <li>ha kell <strong>tengely</strong>, <strong>sk√°la</strong>, <strong>felirat</strong>, a sz√©p r√∂vid k√≥dunk igen gyorsan komplik√°ltt√° v√°lik</li>
	  <li>ha <strong>interakci√≥</strong> kell (hover, tooltip) ‚Üí  m√©g t√∂bb k√≥d</li>
          <li>ha <strong>testreszab√°s</strong> is kell, net√°n <strong>reszponz√≠v</strong> m≈±k√∂d√©s a k√≥d m√°r sok sok oldal lesz.</li>
        </ul>
        <p>
          Itt j√∂nnek a k√©pbe a k√∂nyvt√°rak: a rutinfeladatot (tengely, sk√°la, tooltip) megoldj√°k helyetted,
          neked pedig v√©gre csak az adatok √©s az √°bra st√≠lus√°nak kialak√≠t√°s√°ra kell figyelned.
        </p>
      </article>
    </section>

    <section>
      <h2>2. Chart.js</h2>
      <p>
        A Chart.js egy n√©pszer≈±, k√∂nnyen haszn√°lhat√≥ k√∂nyvt√°r, ami a legt√∂bb alap diagramt√≠pus eset√©n (bar, line, pie)
        gyors megold√°st ad a kez√ºnkbe. A tipikus workflow: adatok bet√∂lt√©se, c√≠mk√©k meghat√°roz√°sa, konfigur√°ci√≥s objektum k√©sz√≠t√©se.
      </p>

      <article>
        <h3>2.1. El≈ëny√∂k</h3>
        <ul>
          <li>gyors siker√©lm√©ny, kev√©s k√≥d</li>
          <li>j√≥ alap√©rtelmez√©sek (tengelyek, feliratok, tooltip)</li>
          <li>Canvas alap√∫ (b√°r ez nem felt√©tlen el≈ëny)</li>
        </ul>
      </article>

      <article>
        <h3>2.2. Minim√°l p√©lda: oszlopdiagram 12 adattal</h3>
        <p>
          A k√≥d lefut√°sa ut√°n a fenti <code>&lt;canvas&gt;</code>-ra rajzol. √öjrafuttat√°s el≈ëtt takar√≠tunk.
	  A <code>canvas</code> egy HTML DOM elem ami kifejezetten arra val√≥, hogy rajzolhass r√°.
        </p>

      <figure>
        <figcaption>Chart.js c√©lfel√ºlet (Canvas)</figcaption>
        <canvas id="chartjsCanvas" width="700" height="320" aria-label="Chart.js diagram v√°szon" role="img"></canvas>
      </figure>

        <textarea data-lang="js">
// ez lenne a v√°szon (fel√ºl)
const canvas = document.getElementById("chartjsCanvas")
const ctx = canvas.getContext("2d")

// gyorsan let√∂r√∂lj√ºk a v√°sznat ha lenne ott m√°r valami:
ctx.clearRect(0, 0, canvas.width, canvas.height)

// ezek lesznek az adataink
const labels = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
const values = [12, 19, 7, 15, 22, 9, 14, 18, 10, 16, 13, 8]

// ha m√°r futott kor√°bban, az el≈ëz≈ë chart p√©ld√°nyt √©rdemes megsemmis√≠teni
if (window.__chartjsInstance) {
  window.__chartjsInstance.destroy()
}

window.__chartjsInstance = new Chart(ctx, {
  type: "bar",
  data: {
    labels,
    datasets: [
      {
        label: "P√©lda adat",
        data: values
      }
    ]
  },
  options: {
    responsive: false,
    plugins: {
      title: {
        display: true,
        text: "Chart.js ‚Äì egyszer≈± oszlopdiagram"
      }
    }
  }
})

undefined
        </textarea>
        <p>
	A k√≥d v√©g√©re csak az√©rt √≠rtunk egy <code>undefined</code>-t, mert
	A k√≥dblokkjaink az utols√≥ √©rt√©ket megjelen√≠tik, √©s ez a gig√°szi
	Chart objektum lenne. Ha k√≠v√°ncsi vagy hogy n√©z ki, szedd ki az utols√≥
	sort, futtasd √∫jra √©s megn√©zheted. Sz√©p nagy.
	</p>

        <p>
          A l√©nyeg amit √©rdemes l√°tni, hogy a k√∂nyvt√°r √°tveszi a "piszkos munk√°t" (tengely, sk√°la, felirat),
          nek√ºnk csak a <code>labels</code> √©s <code>data</code> szerkezettel kell foglalkoznunk.
	  Ha az alapbe√°ll√≠t√°s j√≥, akkor j√≥, ha nem tetszik,
	  akkor is sz√°mtalan opci√≥ √°ll rendelkez√©sre a testreszab√°shoz.
        </p>
      </article>

      <article>
        <h3>2.3. Tov√°bbi dem√≥k</h3>
        <p>
	Persze nem csak oszlopdiagrammokat tud rajzolni ez a k√∂nyvt√°r. Olyan sok be√©p√≠tett t√≠pust 
	tartalmaz, hogy egy eg√©sz honlap k√©ne a bemutat√°s√°hoz. Van is ilyen persze, √©rdemes megn√©zni:
        </p>
        <ul>
          <li><a href="https://www.chartjs.org/docs/latest/samples/" target="_blank" rel="noreferrer">Chart.js Samples</a></li>
          <li><a href="https://www.chartjs.org/docs/latest/" target="_blank" rel="noreferrer">Chart.js Documentation</a></li>
        </ul>
      </article>
    </section>

    <section>
      <h2>3. Google Charts</h2>
      <p>
        A Google Charts er≈ëss√©ge, hogy nagyon sok "k√©sz" diagramt√≠pust ad, √©s vannak olyan speci√°lis √°br√°i is,
        amelyekhez m√°s k√∂nyvt√°rban t√∂bb munka kellene. Ilyen p√©ld√°ul a <strong>GeoChart</strong> (t√©rk√©pes √°bra).
      </p>

      <article>
        <h3>3.1. El≈ëny√∂k</h3>
        <ul>
          <li>rengeteg k√©sz diagramt√≠pus</li>
          <li>j√≥ "dashboard" jelleg≈± megold√°sok (tooltip, feliratok)</li>
          <li>GeoChart: orsz√°gok/r√©gi√≥k adatai t√©rk√©pen</li>
        </ul>
      </article>
      
      <figure>
        <figcaption>Google Charts c√©lfel√ºlet</figcaption>
        <div id="googleChart" role="img" aria-label="Google Charts diagram" style="width: 700px; height: 360px"></div>
      </figure>

      <article>
        <h3>3.2. Minim√°l p√©lda: oszlopdiagram</h3>
        <p>
          A Google Charts bet√∂lt√©se aszinkron: el≈ësz√∂r bet√∂ltj√ºk a csomagot, majd callbackben rajzolunk.
        </p>

        <textarea data-lang="js">
// ide ker√ºl a diagram (ha van ott valami t√∂r√∂lj√ºk)
const gchart = document.getElementById("googleChart")
gchart.innerHTML = ""

google.charts.load("current", { packages: ["corechart"] })

google.charts.setOnLoadCallback(() => {
  const data = google.visualization.arrayToDataTable([
    ["H√≥nap", "√ârt√©k"],
    ["Jan", 12],
    ["Feb", 19],
    ["Mar", 7],
    ["Apr", 15],
    ["May", 22],
    ["Jun", 9],
    ["Jul", 14],
    ["Aug", 18],
    ["Sep", 10],
    ["Oct", 16],
    ["Nov", 13],
    ["Dec", 8]
  ])

  const options = {
    title: "Google Charts - egyszer≈± oszlopdiagram",
    legend: { position: "none" }
  }

  const chart = new google.visualization.ColumnChart(gchart)
  chart.draw(data, options)
})
        </textarea>

        <p>
          Itt a "markup" t√©nyleg minim√°l: egyetlen <code>&lt;div&gt;</code> a c√©lfel√ºlet, √©s a t√∂bbi mind konfigur√°ci√≥.
        </p>
      </article>

      <article>
        <h3>3.3. Tov√°bbi dem√≥k</h3>
        <ul>
          <li><a href="https://developers.google.com/chart/interactive/docs/gallery" target="_blank" rel="noreferrer">Google Charts Gallery</a></li>
          <li><a href="https://developers.google.com/chart/interactive/docs" target="_blank" rel="noreferrer">Google Charts Documentation</a></li>
          <li><a href="https://developers.google.com/chart/interactive/docs/gallery/geochart" target="_blank" rel="noreferrer">GeoChart</a></li>
        </ul>
      </article>
    </section>

    <section>
      <h2>4. D3.js</h2>
      <p>
        A D3.js nem csak "k√©sz grafikonokat" ad, hanem egy alacsonyabb szint≈± eszk√∂zt√°r:
        adatok alapj√°n DOM/SVG elemeket hozol l√©tre √©s √°ll√≠tasz be. Ez sokkal rugalmasabb, de t√∂bb gondolkod√°st k√≠v√°n.
      </p>

      <article>
        <h3>4.1. El≈ëny√∂k</h3>
        <ul>
          <li>nagyon rugalmas (egyedi vizualiz√°ci√≥k)</li>
          <li>er≈ës sk√°la- √©s adatlek√©pez√©si eszk√∂z√∂k</li>
          <li>interakci√≥ √©s anim√°ci√≥ j√≥l kezelhet≈ë</li>
        </ul>
      </article>

      <article>
        <h3>4.2. Minim√°l p√©lda: "csupasz" oszlopdiagram SVG-ben</h3>
        <p>
          Ez a p√©lda sz√°nd√©kosan egyszer≈±: nincs tengely, nincs felirat.
          A c√©l, hogy l√°sd a D3 alapgondolat√°t: <strong>adat ‚Üí elemek</strong>.
        </p>

      <figure>
        <figcaption>D3 c√©lfel√ºlet (SVG)</figcaption>
        <div id="d3Chart" aria-label="D3 diagram kont√©ner"></div>
      </figure>

        <textarea data-lang="js">
// ide ker√ºl a k√©p. Let√∂r√∂lj√ºk, ha lenne ott valami
const d3chart = document.getElementById("d3Chart")
d3chart.innerHTML = ""

const values = [12, 19, 7, 15, 22, 9, 14, 18, 10, 16, 13, 8]
const padding = 20
const width = 700 // legyen ilyen sz√©les a diagramm
const height = 320 // √©s ilyen magas

const maxValue = d3.max(values)

// sk√°la: adat√©rt√©k -> pixel magass√°g
const y = d3.scaleLinear()
  .domain([0, maxValue])
  .range([0, height - 2 * padding])

const barWidth = (width - 2 * padding) / values.length

const svg = d3.select("#d3Chart")
  .append("svg")
  .attr("width", width) 
  .attr("height", height) 

svg.selectAll("rect")
  .data(values)
  .enter()
  .append("rect")
  .attr("x", (d, i) => padding + i * barWidth)
  .attr("y", d => height - padding - y(d))
  .attr("width", Math.max(1, barWidth - 4))
  .attr("height", d => y(d))
  .attr("fill", "steelblue")

// c√≠m (csak sz√∂veg, hogy legyen kontextus)
svg.append("text")
  .attr("x", padding)
  .attr("y", padding)
  .text("D3.js - egyszer≈± oszlopdiagram")

undefined
        </textarea>
        <p>
       	  Tal√°n ennyib≈ël is l√°tszik, hogy D3 nem ad nek√ºnk k√©sz grafikonokat. Sokkal ink√°bb
	  egy seg√©deszk√∂z a m√∂g√∂ttes technol√≥gia (SVG) kezel√©s√©hez, amelyel sz√©p konzisztens
	  (√©s adatvez√©relt) m√≥don le tudjuk k√©pezni az adatot SVG elemekk√©.
        </p>

        <p>
          Ha most hozz√°adn√°nk p√°r kieg√©sz√≠t√©st: tengelyt, c√≠mk√©ket, tickeket, tooltipet, reszponz√≠v viselked√©st,
          a k√≥d igen sz√©p k√∂v√©rre n≈ëne - ez√©rt a D3-at akkor haszn√°ld, amikor a testreszab√°s a fontos,
	  vagy valami egyedi dolgot szeretn√©l megval√≥s√≠tani, amit a c√©lzottabb k√∂nyvt√°r nem tud.
        </p>
      </article>

      <article>
        <h3>4.3. Tov√°bbi dem√≥k</h3>
        <ul>
          <li><a href="https://d3js.org/" target="_blank" rel="noreferrer">D3 hivatalos oldal</a></li>
          <li><a href="https://observablehq.com/@d3/gallery" target="_blank" rel="noreferrer">D3 Gallery (Observable)</a></li>
          <li><a href="https://github.com/d3/d3/wiki" target="_blank" rel="noreferrer">D3 Wiki / dokument√°ci√≥</a></li>
        </ul>
      </article>
    </section>

    <section>
      <h2>5. LLM haszn√°lat</h2>
      <p>
        Egy nagyobb k√∂nyvt√°r be√°ll√≠t√°sai els≈ëre ijeszt≈ënek t≈±nhetnek, mert (n√©ha t√∫l) sok opci√≥ van. Ma m√°r m√©gis nagyon k√∂nny≈± vel√ºk dolgozni, mert:
      </p>
      <ul>
        <li>ezek a k√∂nyvt√°rak elterjedtek, sok a p√©lda, sok a k√©sz megold√°s;</li>
        <li>ritk√°n akarunk √∫jra√≠rni mindent a null√°r√≥l, √°ltal√°ban az ember testreszab egy mint√°t (aka copy-paste üòâ);</li>
        <li>a nagy nyelvi modellek (LLM-ek) nagyon j√≥l le tudj√°k gener√°lni szabad sz√∂vegb≈ël is a k√≥dot!</li>
      </ul>

      <p>
      	Persze sokat seg√≠t, ha nagyj√°b√≥l ismered a lehet≈ës√©geket (a megfelel≈ë kifejez√©seket) √©s bele√≠rod a promptba:
        "K√©sz√≠ts Chart.js oszlopdiagramot 12 adattal, legyen hozz√° tooltip √©s title,
        √©s k√©sz√≠ts hozz√° egy gombot, ami √∫j v√©letlen adatokat t√∂lt be".
        √çgy nem neked kell fejben tartanod az √∂sszes opci√≥t: el√©g, ha tudod, mit szeretn√©l.
      </p>
    </section>

    <section>
      <h2>6. √ñsszefoglal√°s</h2>
      <ul>
        <li>Egyszer≈± grafikont nem is neh√©z programozni! Adatreprezent√°ci√≥ ak√°r konzolos is m≈±k√∂dhet.</li>
        <li>A "k√©zi" megold√°s nem t≈±nik v√©szesnek, de az √∂rd√∂g a r√©szletekben b√∫vik meg. Ha m√°r t√∂bb minden kell: k√∂nyvt√°r.</li>
        <li>A k√∂nyvt√°rak kezelik helyetted a macer√°s r√©szleteket: tengelyek, tooltip, sk√°l√°z√°s, reszponzivit√°s.</li>
        <li>Chart.js: gyors √©s k√©nyelmes "√°ltal√°nos c√©lra".</li>
        <li>Google Charts: sok k√©sz t√≠pus, specialit√°sok (pl. GeoChart).</li>
        <li>D3: rugalmas, de t√∂bb munka - akkor j√≥, ha valami egyedit szeretn√©l.</li>
      </ul>
    </section>
  </main>

  <!-- CDN-ek: a k√≥dp√©ld√°k ezekre t√°maszkodnak -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/javascript/javascript.min.js"></script>
  <script src="codeblocks.js"></script>
</body>
</html>
